# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Ctrl+C —Å–µ—Ä–≤–µ—Ä Flask –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –Ω–æ:
- –ü—Ä–æ—Ü–µ—Å—Å—ã Python –æ—Å—Ç–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
- –ë—Ä–∞—É–∑–µ—Ä—ã Chrome (–æ—Ç Selenium) –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ü–æ—Ä—Ç 5000 –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç—ã–º
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞: "Address already in use"

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- Windows –Ω–µ –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- Selenium –∑–∞–ø—É—Å–∫–∞–µ—Ç Chrome –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
- Flask-SocketIO –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### 1Ô∏è‚É£ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `start_server.bat`**

–ü—Ä–æ—Å—Ç–æ **–¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ** –Ω–∞ —Ñ–∞–π–ª `start_server.bat`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Python
- ‚úÖ –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –±—Ä–∞—É–∑–µ—Ä—ã Chrome
- ‚úÖ –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–æ—Ä—Ç 5000
- ‚úÖ –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ü–æ—Å–ª–µ Ctrl+C –æ—á–∏—â–∞–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### 2Ô∏è‚É£ **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: `stop_server.bat`**

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä "–∑–∞–≤–∏—Å" –∏–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `stop_server.bat`
2. –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### 3Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è: `check_server.bat`**

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–µ—Ä–≤–µ—Ä:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `check_server.bat`
2. –£–≤–∏–¥–∏—Ç–µ:
   - –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Python
   - –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Chrome
   - –°—Ç–∞—Ç—É—Å –ø–æ—Ä—Ç–∞ 5000
   - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## üìù –†—É—á–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ –ø–æ–º–æ–≥–ª–∏)

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:

```cmd
REM –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ Python –ø—Ä–æ—Ü–µ—Å—Å—ã
taskkill /F /IM python.exe /T

REM –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Chrome
taskkill /F /IM chrome.exe /T
taskkill /F /IM chromedriver.exe /T

REM –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–æ—Ä—Ç 5000
for /f "tokens=5" %a in ('netstat -ano ^| findstr ":5000" ^| findstr "LISTENING"') do taskkill /F /PID %a
```

### –ß–µ—Ä–µ–∑ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á:

1. –ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+Esc`
2. –í–∫–ª–∞–¥–∫–∞ "–ü—Ä–æ—Ü–µ—Å—Å—ã"
3. –ù–∞–π–¥–∏—Ç–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ:
   - `python.exe`
   - `chrome.exe`
   - `chromedriver.exe`

## üéØ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

### –ó–∞–ø—É—Å–∫:
1. **–î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ** `start_server.bat`
2. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: `üü¢ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:5000

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
1. –í –æ–∫–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`
2. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: `‚úÖ –ì–æ—Ç–æ–≤–æ`
3. –ó–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `stop_server.bat`
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥
3. –°–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `start_server.bat`

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤ –∫–æ–¥–µ

–¢–µ–ø–µ—Ä—å —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –±—Ä–∞—É–∑–µ—Ä—ã –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

–ù–æ –Ω–∞ Windows —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ, –ø–æ—ç—Ç–æ–º—É **–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ bat-—Å–∫—Ä–∏–ø—Ç—ã**!

## üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

```cmd
REM –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç
netstat -ano | findstr ":5000"

REM –ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç, –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ –µ–≥–æ
stop_server.bat
```

### –ë—Ä–∞—É–∑–µ—Ä—ã –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è:

```cmd
REM –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä–æ–π—Ç–µ Chrome
taskkill /F /IM chrome.exe /T
taskkill /F /IM chromedriver.exe /T
```

### –ü—Ä–æ—Ü–µ—Å—Å—ã Python "–≤–∏—Å—è—Ç":

```cmd
REM –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Python
tasklist | findstr python

REM –£–±–µ–π—Ç–µ –≤—Å–µ
taskkill /F /IM python.exe /T
```

## üí° –°–æ–≤–µ—Ç—ã

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `start_server.bat`** - —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±
2. **–ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –æ–∫–Ω–æ –∫—Ä–µ—Å—Ç–∏–∫–æ–º** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ctrl+C
3. **–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–∏—Å** - –∑–∞–ø—É—Å—Ç–∏—Ç–µ `stop_server.bat`
4. **–ü–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º** –ø–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 —Å–µ–∫—É–Ω–¥—ã
5. **–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç** - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä

## üéì –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ—á–µ–º—É Flask –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é:

1. **Flask-SocketIO** –¥–µ—Ä–∂–∏—Ç WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
2. **Selenium** –∑–∞–ø—É—Å–∫–∞–µ—Ç Chrome –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
3. **Windows** –Ω–µ –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
4. **Undetected-chromedriver** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞—Ç—á–∏ Chrome

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `cleanup_resources()`:

```python
def cleanup_resources():
    """–û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞"""
    global analysis_system
    try:
        if analysis_system and hasattr(analysis_system, 'scraper_manager'):
            logger.info('üßπ –ó–∞–∫—Ä—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä—ã...')
            analysis_system.scraper_manager.close_all()
            logger.info('‚úÖ –ë—Ä–∞—É–∑–µ—Ä—ã –∑–∞–∫—Ä—ã—Ç—ã')
    except Exception as e:
        logger.error(f'‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤: {e}')
```

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏:
- –ù–∞–∂–∞—Ç–∏–∏ Ctrl+C
- –í–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏
- –ù–æ—Ä–º–∞–ª—å–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ (finally)

## ‚ùì FAQ

**Q: –ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ `python server.py`?**  
A: –ú–æ–∂–Ω–æ, –Ω–æ —Ç–æ–≥–¥–∞ –ø—Ä–∏–¥–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —É–±–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?**  
A: –ù–µ—Ç, –ø–æ—Ä—Ç 5000 –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å.

**Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ `start_server.bat` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?**  
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ: `.venv\Scripts\activate.bat` –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å.

**Q: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–±–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã?**  
A: –î–∞, —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è.

**Q: –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É?**  
A: –ò–∑–º–µ–Ω–∏—Ç–µ –≤ `server.py`: `port=5000` –Ω–∞ `port=8080` (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π).

