# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (07.11.2025)

### 1. **–û—à–∏–±–∫–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º threshold**
- ‚ùå –ë—ã–ª–æ: `ProductMatcher.match_products()` –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä `threshold`
- ‚úÖ –°—Ç–∞–ª–æ: –î–æ–±–∞–≤–ª–µ–Ω –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `threshold` –≤ –º–µ—Ç–æ–¥ `match_products()`

### 2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤**
- ‚ùå –ë—ã–ª–æ: –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è **–Ω–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä** (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ)
- ‚úÖ –°—Ç–∞–ª–æ: –ë—Ä–∞—É–∑–µ—Ä—ã **–∫–µ—à–∏—Ä—É—é—Ç—Å—è** –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚ö° –£—Å–∫–æ—Ä–µ–Ω–∏–µ: **–≤ 5-10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ** –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 3. **–û—à–∏–±–∫–∏ —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ Chrome**
- ‚ùå –ë—ã–ª–æ: `OSError: [WinError 6] –ù–µ–≤–µ—Ä–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä` –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –°—Ç–∞–ª–æ: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º WinError 6
- üîí –¢–µ–ø–µ—Ä—å –±—Ä–∞—É–∑–µ—Ä—ã –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### 4. **Timeout –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤**
- ‚ùå –ë—ã–ª–æ: `timeout: Timed out receiving message` –Ω–∞ Avito, motoekip –∏ –¥—Ä.
- ‚úÖ –°—Ç–∞–ª–æ: 
  - Wildberries: 45 —Å–µ–∫
  - Ozon: 45 —Å–µ–∫
  - Avito: **60 —Å–µ–∫** (—Å–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π)
  - Yandex Market: 45 —Å–µ–∫
  - –û—Å—Ç–∞–ª—å–Ω—ã–µ: 45 —Å–µ–∫

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- 10 —Ç–æ–≤–∞—Ä–æ–≤ √ó 5 —Å–∞–π—Ç–æ–≤ = **50 –∑–∞–ø—É—Å–∫–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞** 
- –í—Ä–µ–º—è: ~20-30 –º–∏–Ω—É—Ç

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- 10 —Ç–æ–≤–∞—Ä–æ–≤ √ó 5 —Å–∞–π—Ç–æ–≤ = **5 –±—Ä–∞—É–∑–µ—Ä–æ–≤** (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- –í—Ä–µ–º—è: ~3-5 –º–∏–Ω—É—Ç
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 5-6x** ‚ö°

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞:
```
–¢–æ–≤–∞—Ä–æ–≤ –∏–∑ 1–°: 5-10
–°–∞–π—Ç—ã: —Ç–æ–ª—å–∫–æ Wildberries
–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: 1-2 –º–∏–Ω—É—Ç—ã
```

### –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:
```
–¢–æ–≤–∞—Ä–æ–≤ –∏–∑ 1–°: 25-50
–°–∞–π—Ç—ã: Wildberries + Ozon
–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: 10-15 –º–∏–Ω—É—Ç
```

### –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:
```
–¢–æ–≤–∞—Ä–æ–≤ –∏–∑ 1–°: 50-100
–°–∞–π—Ç—ã: –≤—Å–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: 30-60 –º–∏–Ω—É—Ç
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∞–ø–µ—Ä–æ–≤
```python
# scrapers/scraper_manager.py
self._scrapers = {}  # –ö–µ—à —Å–∫—Ä–∞–ø–µ—Ä–æ–≤

def _get_scraper(self, scraper_name, scraper_class):
    if scraper_name not in self._scrapers:
        self._scrapers[scraper_name] = scraper_class(headless=self.headless)
    return self._scrapers[scraper_name]
```

### –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤
```python
def close(self):
    if self.driver:
        try:
            self.driver.quit()
        except (OSError, Exception) as e:
            if "WinError 6" not in str(e):
                self.logger.debug(f"–û—à–∏–±–∫–∞: {e}")
        finally:
            self.driver = None
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ë—Ä–∞—É–∑–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –Ω–∞ –æ–¥–Ω–æ–º —Å–∞–π—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–∏—Ö
- –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –±—Ä–∞—É–∑–µ—Ä—ã: `scraper_manager.close_all()`

